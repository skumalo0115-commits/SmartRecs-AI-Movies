{% extends 'base.html' %}
{% block content %}
<section class="hero-section text-center text-white d-flex align-items-center justify-content-center">
  <div class="hero-content">
    <h1 class="display-3 fw-bold">Welcome to SmartRecs</h1>
    <p class="lead mb-4">Get Personalized Movie Recommendations Powered by AI</p>
    <a href="{{ url_for('rate_movies') }}" class="btn hero-btn btn-lg">Rate Movies Now</a>
  </div>
</section>

<section class="stats-wrap py-5">
  <div class="container">
    <div class="row g-4 justify-content-center">
      <div class="col-md-4">
        <div class="stat-card stat-blue">
          <div>
            <i class="bi bi-film fs-1"></i>
          </div>
          <div>
            <h3>Movies Rated</h3>
            <p class="stat-value">{{ rating_count }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stat-card stat-green">
          <div>
            <i class="bi bi-star-fill fs-1"></i>
          </div>
          <div>
            <h3>Top Genre</h3>
            <p class="stat-value fs-2">{{ top_genre }}</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="stat-card stat-orange">
          <div>
            <i class="bi bi-speedometer2 fs-1"></i>
          </div>
          <div>
            <h3>Your Recommendation Score</h3>
            <p class="stat-value">{{ score_pct }}%</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="container py-4">
  <h2 class="fw-bold">Top 10 Movies For You</h2>
  <p class="text-muted fs-3">Based on Your Preferences</p>
  <ol class="list-group list-group-numbered recommendations-list">
    {% for movie in recommendations %}
      <li class="list-group-item d-flex justify-content-between align-items-center py-3">
        <div>
          <a class="movie-title" href="#">{{ movie.title }}</a>
          <span> ({{ movie.genres.replace('|', ', ') }}) </span>
        </div>
        <span class="fw-bold">Score: {{ '%.2f'|format(movie.score) }}</span>
      </li>
    {% endfor %}
  </ol>
</section>
{% endblock %}
